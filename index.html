<!DOCTYPE html>
<html>
<head>
<title>CRUD API</title>
</head>
<body>
    <h1 align="center"><u>CRUD API</u></h1>
    <div class="center">
        <button style="margin-left: 343px;margin-bottom:5px;" onclick="window.location.href='add.html';" align="center">Add</button>
    <table align="center" border='1'>
        <thead>
            <tr>
                <th>Id</th>
                <th>first_name</th>
                <th>last_name</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
     </table>

     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
     <script>
         var revealingModulePattern = (
             function () {
                function fetchApiValue() {
                    $.ajax({
                        url:"fetch.php",
                        success:function(data)
                        {
                            $('tbody').html(data);
                        }
                    });
                }
                 return {
                    fetchApiValue: fetchApiValue,
                 };
             }
         )();
     $(document).ready(function(){
        revealingModulePattern.fetchApiValue();

        $('body').on('click', '#edit', function() {
            var editVal = $(this).attr('value');
            window.location.href = 'edit.html?id=' + editVal;
        });
        
        $('body').on('click', '#delete', function() {
            var deleteVal = $(this).attr('value');
            window.location.href = 'delete.html?id=' + deleteVal;
        });
    });
     </script>
</body>
</html>
